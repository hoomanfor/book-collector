(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),l=a.n(r),c=(a(38),a(8)),s=a(6),i=(a(39),function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement(c.b,{className:"navbar-brand",to:"/"},o.a.createElement("i",{className:"fas fa-book-reader"})),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},o.a.createElement("div",{className:"navbar-nav"},o.a.createElement(c.b,{className:"nav-item nav-link",to:"/search"},"Search"),o.a.createElement(c.b,{className:"nav-item nav-link",to:"/saved"},"Saved"))))}),m=a(32),u=a(11),d=a(12),v=a(14),f=a(13),h=a(15),p=a(9),g=a.n(p);var E=function(e){var t=e.children;return o.a.createElement("div",{className:"jumbotron jumbotron-fluid"},o.a.createElement("div",{className:"container"},t))};var b=function(e){return o.a.createElement("input",Object.assign({type:"text",className:"form-control",placeholder:"Search a Book Title, Author Name, or Topic",name:"search"},e))};var N=function(e){return o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",Object.assign({className:"btn btn-primary",type:"submit"},e),e.children))},k=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={results:[],search:"",loading:!1},a.handleInputChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.searchForBooks=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state.search.split(" ").join("+");g.a.get("/api/search?q="+t).then(function(e){console.log(e.data.items),a.setState({results:e.data.items,search:"",loading:!1})})},a.saveBook=function(e){var t=a.state.results.filter(function(t){return t.id!==e.id}),n={title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description?e.volumeInfo.description:"No Description Available for this Listing",image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/130x190?text=No+Book+Cover",link:e.volumeInfo.infoLink};g.a.post("/api/books",n).then(function(){a.setState({results:t})})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(E,null,o.a.createElement("h1",{className:"display-4"},"Book Collector"),o.a.createElement("p",{className:"lead"},"MERN stack (MongoDB, Express.js, React.js, and Node.js)"),o.a.createElement("form",null,o.a.createElement("div",{className:"input-group"},o.a.createElement(b,{onChange:this.handleInputChange,value:this.state.search}),o.a.createElement(N,{onClick:this.searchForBooks,disabled:!this.state.search},this.state.loading&&o.a.createElement("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),"Search")))),o.a.createElement("div",{className:"container"},!this.state.results.length&&o.a.createElement("h2",{className:"text-center text-info"},o.a.createElement("i",{className:"fas fa-search text-info"})," Search for Books! ",o.a.createElement("i",{className:"fas fa-book-open text-info"})),this.state.results.map(function(t){return o.a.createElement("div",{key:t.id,className:"book-container"},o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-md-8 text-center text-md-left"},o.a.createElement("h3",{className:"title"},t.volumeInfo.title),o.a.createElement("p",{className:"authors"},t.volumeInfo.authors?"Written by ".concat(t.volumeInfo.authors.join(", ")):"")),o.a.createElement("div",{className:"col-md-4 text-center d-md-flex justify-content-end align-items-end"},o.a.createElement("a",{href:t.volumeInfo.infoLink,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("button",{className:"btn btn-outline-primary"},"View")),o.a.createElement("button",{className:"btn btn-success ml-1",onClick:function(){return e.saveBook(t)}},"Save"))),o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-md-2 text-center"},o.a.createElement("img",{className:"image",alt:t.volumeInfo.title,src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/130x190?text=No+Book+Cover"})),o.a.createElement("div",{className:"col-md-10"},o.a.createElement("p",{className:"description"},t.volumeInfo.description?t.volumeInfo.description:"No Description Available for this Listing"))))})))}}]),t}(o.a.Component),w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={results:[]},a.loadBooks=function(){g.a.get("/api/books").then(function(e){a.setState({results:e.data})})},a.deleteBook=function(e){g.a.delete("/api/books/"+e).then(function(){a.loadBooks()})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(E,null,o.a.createElement("h1",{className:"display-4"},"Saved Books"),o.a.createElement("p",{className:"lead"},"MERN stack (MongoDB, Express.js, React.js, and Node.js)")),o.a.createElement("div",{className:"container"},!this.state.results.length&&o.a.createElement("h2",{className:"text-center text-warning"},"You haven't saved any books, friend."),this.state.results.map(function(t){return o.a.createElement("div",{key:t._id,className:"book-container"},o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-md-8 text-center text-md-left"},o.a.createElement("h3",{className:"title"},t.title),o.a.createElement("p",{className:"authors"},t.authors?"Written by ".concat(t.authors.join(", ")):"")),o.a.createElement("div",{className:"col-md-4 text-center d-md-flex justify-content-end align-items-end"},o.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("button",{className:"btn btn-outline-primary"},"View")),o.a.createElement("button",{className:"btn btn-danger ml-1",onClick:function(){return e.deleteBook(t._id)}},"Delete"))),o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-md-2 text-center"},o.a.createElement("img",{className:"image",alt:t.title,src:t.image})),o.a.createElement("div",{className:"col-md-10"},o.a.createElement("p",{className:"description"},t.description))))})))}}]),t}(o.a.Component),x=function(){return o.a.createElement(c.a,null,o.a.createElement(i,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:k}),o.a.createElement(s.a,{exact:!0,path:"/saved",component:w}),o.a.createElement(s.a,{path:"*",component:k})))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(x,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");j?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):y(e)})}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.8c391cb4.chunk.js.map